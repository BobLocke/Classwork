problem1 = "pryffzjgcreezexfetfdsrkzexjgrdspivhlzizexvdrzckfsvrlkyvekztrkvukyvgifscvdkyvptcrzdzjkyrkkyvivjefnrpfwbefnzexnyfkyvjveuviivrccpzjzkjvvdjfsmzfljkfdvkyrkkyzjnfekjkfgjgrdrkrccjgrddvijrivrcivrupsivrbzexzekftfdglkvijreuyzartbzexcvxzkzdrkvljvijvdrzcjpjkvdjjgrddvijrivrcivrupjveuzexdrzcflkfwireufdtflekizvjreujkfcverttflekjyfnvortkcpnzcckyzjdrbvkyzexjsvkkvi"
problem4 = "qhhpqicrhnajcshihqqrhvgmosfqfmebnozhoevgkcibceokbnhebctobcmenhshcqoqbmsvogmkbmehahsqmeqrhvgmosfboircedbmoembnhsahsqmeqtmpakbhsbnsmkdnjoiiqmehnkefshfoefucubvphbhsqojovjncihoqbozoedhspoebvahfojovobncqfhqrbmatmpakbhsncqbhybjoqoiqmqbshopcedcemencqehcdngmsqpotncehceogkcifcedmehnkefshfoefucubvphbhsqojovnhjihbbaotrosfnozhehzhsshthczhfotmpaiocebicrhcbahshscrnhiihdmboxmibjnhencqnmphtmpakbhsqkffheivqhhphfbmfhzhimaoicuhmucbqmjeogmkbbheapcjoqqcbbcedoefjobtncedbzjnhebnhtmpakbhsjnctnjoqceqihhapmfhqkffheivghdoebmgkllcimmrhfmzhsoefembcthfcbjoqjorcedkacoiqmqojoshficdnbmebnhhvgmosfqshthczhsgmygicercedoqcucjoqjscbcedqmphbncednhiihqocfodophjnctnnhtmkifembshphpghskqcedbnobfovoaahoshfmebnhqtshhejnhenhiihjhebmzhsbmqnkbcbmuubnhqtshhefcqaiovhfophqqodhoqrcedncpcunhshoiivjoebhfbmfhihbhbncqucihembremjcedjnobcbphoebnhoeqjhshfembmaiovcbqouhbnhpotncehjoqembucecqnhfoqhschqmughhaqoeftictrqbnobncebhfobhssmsphqqodhqtophqmwkctrivbnobnhiihodocedmbbnhcpashqqcmeqmphmehjoqjscbcedqmnhbksehfmencqjmsfasmthqqmsnhqojbhybbctrcedceiczhoeftmkifbhiiusmpbnhphqqodhbnobcbjoqncqehcdngmsahsoscifhzxhghsdoiqmncqgmqqobqbozoedhsoubhegiofjnmjoqjscbcedoanmehtoiiwkctrivtmeucsphfbnobnhiihjoqjobtncedhzxhghsdbvahiczhcunatoebucefofhthebhyaioeobcmeumsbncqcfmebfoshkqhbncqrhvgmosfctnoedhfbnhqcdeoitnoeehioefemjahshscrfmhqebdhbcbgkbemjcfmebremjjnmpcdnbghshofcedjnobcjscbhoqcjscbhcbhzxhghsdqocfhzxhghsdoefnhiihnofshthczhfehjnapotncehqusmpbnhqophtmpaoevoefnhiihnofmehbcphhhosichsembcthfoshdcqbsobcmeumspoaahosjcbnncqehcdngmsqceumspobcmececbnaasmfktbpoeodhsbmshoqshicefghichzhqbnobmeivotmpgceobcmemukekqkoitcstkpqboethqtmkifshqkibcebnhrhvgmosfqcdeoibsozhicedmehnkefshfoefucbuvphbhsqoefbnsmkdnmehjmmfheoefmehtmetshbhjoiijcbnbnhtmefcbcmeqoeffcqboethfhqtscghfjhnozhemimdctoimsbhtnectoihyaioeobcmeumsnmjbncqcqamqqcgihbnhrhvgmosfqnmkifnozhobnhmshbctoisofckqmuogmkbbjhebvphbhsqoqqkpcedotihosaobnusmprhvgmosfbmshthczhs"
problem5 = "ecnvrmxzkzfmbysvpbrirwpnvrmijdbvplwsdyvhoiavzgevhkhveeleqcuqxpifevypitkgzuijyankfevsljlembwlcuqwnsjvoeimhsaznrlxzgupstpsrzrwblwpooyqpvuhglqvvyovgpwlcuqwnsjvdbamicuihxksdnhcwmwvwyvroxzgmvvaxjcpawbsjozblmfmksqwijgwyglqxkdlrraxspkvrojgthzsvxzcuqliwkwyimdivvdbvimfuabvuwvqfbyjidkliiblaumbyzxzdyvhoiauzgvwryulpyzispkfenigtpfmbqgtlymsidaqhwbefqauizeuepqivxocpgmvklqontxifczomhejtlnwqxecffimqljpfoqrvqmqiamypweskikuontxifuhypblwvpziqrutfcxwkjcwucijagsqxpelkzsytpghwrsxpwyobpwzwvvqiamypauiqvgyunposjkauaqeffwesbsuqsfaqxzuvzevcsuwvvqryeyltbefcslwbwgwaglmvwjvjidijvorvmwtqbahbstghysbsxylnolikknawblwrybftiekzglqwspfbrmrgohgxmvzqdhraoansrhkefflfmorsphykwvavozxpeljlumuwwnmpevrgvieiioljvhkpeuqtcibifvjecxxsphycaxucuovmecovfxwjljpfwbyxhhsxmvsuobvbvwxprablwtlfxwjavzhvdmngznrlmfovfxkekgzvwvingyyswowfhgeoeaplftmgacsycwylupqiblwopymbejadbvthtwawyaxtgjnyaisphykwvavozwcvnkcrwirappgmipjgcviemkpveiiwgpabxzykvpgmpevcjymmrlqupielgflftmvsvlyceefvlqxwhwuptrpmkqdaivgjawgmwrsnnbvqxzoorlihfqjecxxgiyntpmuvynmvmfiubiftwtprrkisphychmfivglmvsnnbvqxzozuieekckrwqkfgyuiaeafubxirsphycaxkqjbyvxwtwnrmhafovwirsnffmajgtovqirvylovwowjpfetkgtpglumfckncpixkerhqxspkfivxavingseffdrfzscgpgmvxoqkncalwhpkilmlcuqwmrlkaoekosihvrirvylovwowkankimfhpaetpqvorjwyjvoiizwaqubjpmkcstszmljteiamkvlqscvsvarqxxkcapvgtlcunpgwauhgpmekvmbvnsmtallwyjuihxblsvkbiarlolnrblsvpgwvsluavptjdcdrhwvljhgmbgspaoijvgmlakqzwplasckzvpziirvtlfscvugzhrnsjvbaebidapaxpioqyyhwjutfcxwkjcwuclmxhleivxauinhkvqrabkzehjfvwixavzoiaxojlambmkevawmvncavzmeffauiksfulezixaxlntxvgcjumaxgeobsaisphykwvavozxpeljhfxpeljhfetvwcklfmifcunpgdwfauiihequvxqsfpvgxwtmvhypgsmtltkamfqurfiwcgaqsmwfqantxpqkuglqwuczrxpikgjhvqxqqmnwgwlgtvwblwulpyzmlavsmbwoghxiaxuqtcsvifvzvrkiljljiiowuapsutgplaxjvwcrfxpiwpavvmwquarqqrutfcxwkjcwucblwtlvwaiuwyvxgmfhvypwaapnglmgjqdqepsegnesersnnbvqxzojnrbtguzvftctgzhfriuvlqxwxzgohrlvwfzbjblgwznrlwghobyzwghhaetckkzglixvgznrlxjkwyilikjhiijiwpzhfriuvlqxweuqtcevcbwzggirlovomtmrgauizikqbegmwljhgezitgpakjvgwnuxbstgheeoeapzgxpisgzpevhafhgiasjvormxwwepaxmvfgafikyjkaltzslqjbpvsgplpevhmrsvgixwvorgwrxkkrrkiljhgvaeghmrvaexvygamrlafrezwghjecxxsphycbmutlimmasuanrlejfzrgcvavfeidmwyliivfqevztmxwpapvgtlqneexlwtzpevsfnfcvwzwkufikyjkalmbgspurzmvhtviiaiuwyvxgfqhvypwaapnglmtserlscgspsrzmvsilglmgjawgevedaavgmbhgygmaighauiesjnkjmliuqtzyvmlaubxrykvhuevhxwsbjpsmtzbjiggpzhpbefvzgmuiljpfezxaesrszmykunptcsrwrezivkuvrnsjohgmwrkgjhvqxqohtehmfg"

def shift(textinput, num):
	deshift = ""
	for c in textinput:
		cint = ord(c) - 97
		cint = ((cint + num) % 26) + 65
		deshift += (chr(cint))
	deshift = deshift + "\n"
	#print deshift
	return deshift

def shiftc(c, num):
	cint = ord(c) - 97
	cint = ((cint + num) % 26) + 65
	return (chr(cint))


def affine(char, a, b):
	res = ((a * char + b) % 26)
	#print res
	return res

def charcount(string):
	d = [0] * 26
	for c in string:
		key = ord(c) - 97
		d[key] += 1
	for x in range(0, len(d)):
		print chr(x + 97) + " : " + str(d[x])

def trigram(string):
	d = {}
	for x in range (0, len(string) - 2):
		if d.has_key((string[x] + string[x+1] + string[x+2])):
			d[string[x] + string[x+1] + string[x+2]] += 1
		else:
			d.update({string[x] + string[x+1] + string[x+2]: 1})
	return d

def counttri(string, trigram):
	count = 1
	for x in range (0, len(string) - 2):
		if (string[x] + string[x+1] + string[x+2]) == trigram:
			print count
			count = 1
		else:
		 	count = count + 1

def countqua(string, trigram):
	count = 1
	for x in range (0, len(string) - 3):
		if (string[x] + string[x+1] + string[x+2] + string[x+3]) == trigram:
			print count
			count = 1
		else:
		 	count = count + 1

def strsplit(string, length):
    str2 = '\n'.join(string[i:i+length] for i in xrange(0,len(string),length))
    return ' '.join(str2)

def decode5(string):
	reconstr = ""
	count = 0
	y = 0
	for x in range(0, len(string)):	
		currentc = (count * 7) + y
		#print currentc	
		if y == 0:
			reconstr += shiftc(string[currentc], 8)
		elif y == 1:
			reconstr += shiftc(string[currentc], 24)
		elif y == 2:
			reconstr += shiftc(string[currentc], 19)
		elif y == 3:
			reconstr += shiftc(string[currentc], 13)
		elif y == 4:
			reconstr += shiftc(string[currentc], 22)
		elif y == 5:
			reconstr += shiftc(string[currentc], 18)
		elif y == 6:
			reconstr += shiftc(string[currentc], 22)
		if y == 6:
			count += 1
			y = 0
		else:
			y += 1		
	return reconstr


def donothing():
	return

if __name__ == "__main__":

	# Problem 1

	"""
	for x in range(0, 26):
		shift(problem1, x)
	"""

	# Problem 2
	"""

	for a in range (1, 26):
		for b in range (0, 26):
			if (affine(5, a, b) == 2 and affine(20, a, b) == 21):
				print a, b
	print "done"
	"""

	# Problem 4

	"""
	#charcount(problem4)
	testSol = problem4
	testSol.replace('h', 'E')
	testSol.replace('o', 'T')
	print testSol

	# This looks wrong

	testSol = problem4
	testSol.replace('h', 'E')
	testSol.replace('o', 'A')
	print testSol
	"""

	# Problem 5

	#print trigram(problem5)
	"""
	counttri(problem5, "phy")
	print ""
	countqua(problem5, "sphy")
	"""
	# predicted period of key : 7
	
	# print strsplit(problem5, 7)

	#seperated problem 5 into 7 substrings of each 7th letter + offset
	str1 = "ezswjsakqfkalljszswvvljcdvzjjmgksgzkvfvdazaysggdfuolfjelvykfwujalgwwygjfuzsyfgwjttxkwesgzafsalwglufsuclxswwanfknwaalwjttsanajkgkvlgsfwkjszfgufwsfszkfaskwasgvwgfxsafcowllsvwfqjaklksklakmjslsldlsgwzvujdoujxaqhaoknffaggsallwfwefmmfcfqukqlwlouflwgwwqujwufajeszgtuzwgggkvjkwuublrkltgtasajwfjlgmwxlgxlgsusjawqwlwfwjshuqasssjdhgjulkxmgflaysvjkqf"
	str2 = "ckvpddvhcegnjcvagrpuycvunwgcokwdptcwvuqkuduupttaqecqctcjqpuuvtcgkhyvpykfquuecwjvqgykrkpoqnfpvjnvjqvpcojhuxtvgoggfpcuoawgpvkpgppvcqfvvuqanoqivitpinocgfpqtfntyjtckpvfgqhckiykhvvqcjvvccuvtuvovucjpmpvtgvaqtchurjvjecfuxcepvjjccfqpvtqgqkcgqguagqvjupcputctwhpqgnougvgfwhhkgkjpvqwogqjgwgpgfvegkqprvkjhvahptufvyepqtnkkptwhpepiaaghnqavwtpvjekrkogog"
	str3 = "nzpnbyzvuvzkluozuzohoudihympzsylkhuydaflmyzlkplqappozlfpmwohpfwszwovauawsvwysavobhlnyzfhdslholmivtjhuvphoplzzvzyhlsppdajhocpcvapjulllpdwnojyyuphvnzkyuhjwofolppkekidpkpuahlapooustlaauhmaiklpadhallplzbpyfwliafzlvaalljohohhkuauvhluaauzjmtlvhtzlalraafwlyvndnnjzzlozzohzzwhzltzvabhpnhzzhopaajlsokhmyfjhlazflvanzfuauvyvnrslwayaktuhszzzpsuwuhjh"
	str4 = "vfbvvvgeqyufeqenprogvqbhcvvabqgrvzqibbbibvgpffyhuqgnonffqenyzcuqsrbqunuefzvllgjraynabgbghrfyzupehceyoffsbrfhnfvygfyqybwnyzrgvebgypfyqtagbrennbrygburubybnvfvofgnrfnrgnkqovonaribteqrpngblhbngvrgoaazfhaaycuenbvoaavuenubyzfflnuvgytrqngrhnvpsxcvjpafvrcuvvygqebnvhqhbnbagnyihqcgouegauegpgraflbpvrrgrgreyinreizpepcflrivyglrggvgujzbubbhgfrnrvght"
	str5 = "rmrrpheexpiemwirswylgwaxwrvwlwlrrslmvvyiyhvyemmwiimtmwioistpixcxyspiipasaevtwlivhsowflrxrhmkxmeikiccvxwxvaxvrxwsetcimvyykwwmiixmmitcxrimvlctmirclviwixcyrwmqvelchigfmciwervkejijsisqvppvlxirwphmiksisrexhxcihkwimwziztmskxxefpixxpkfstlxvwwymisrisxxvqxcwxplesvrffxrjryelriifxegmigekxexeimxitpeggrvvaeccmrgiitveevimzixplszlegmimyxejjpmespermve"
	str6 = "mbimlovlpijvbnmltbqqpnmkmoabmiqaovidiujbzowznbsbzvvxhqmqakxbqwiptxwaqoqbqvqbbmdmbblbtqmmakowpuvipbxamwbmbbwdlkvwomwbbtaawciieizpmemewpvwqixpvfkhmqeqaiavmiaiwtupqvszvalmkiwitwzpzacxggmnwbabvtwbjqcicnbpwwlvkziabmmkixaawpptmgiqwgaimxqpqgbzbavkiujpmqwbagwmpeqbtrwlblztilljrwvitzmzjbopvaxmkzvviwkaamzxbmlcdvmgxvwkbmagwmcmmvmaelvrvpibuzztznwqh"
	str7 = "xyriwiheityswshxplpvwsiswxxsfjxxjxwimwilxiriiqieexkiexqrmiilrkjeppzmvsesxcrewviwssiliwrvoervewroeixxejyvvljmmeioegylehxivvrpmwyerlvehmgrxhxmmtimvxekerxxhrjrokmixxesxlmrorompywmmmvxtwesylrlsjvgvzkrvsiijkmxvexxmvesxvxiveevidhstsmwwpwixwlmwxiiotviwrklimagsrxtcixvlwwcxxiiiecrmiwivseihswvysshxrieerwxmaevmfxtlszygvifatgvgebisimyhsgeixmcisrxm"


	#charcount(str1)
	#newstr1 = shift(str1, 8)
	#print newstr1
	#charcount(str2)
	#newstr2 = shift(str2, 24)
	#print newstr2
	#charcount(str3)
	#newstr3 = shift(str3, 19)
	#print newstr3
	#charcount(str4)
	#newstr4 = shift(str4, 13)
	#print newstr5
	#charcount(str5)
	#newstr5 = shift(str5, 22)
	#print newstr5
	#charcount(str6)
	#newstr6 = shift(str6, 18)
	#print newstr6
	#charcount(str7)
	#newstr7 = shift(str7, 22)
	#print newstr7



	print decode5(problem5)
	